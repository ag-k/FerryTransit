# 運賃計算機能 - 進捗管理TODO

## 実装状況: ✅ 基本実装完了

## 完了項目

- ✅ 基本料金の計算
- ✅ 座席等級料金の計算
- ✅ 車両料金の計算
- ✅ 子供料金の計算（半額、10円単位切り上げ）
- ✅ 船舶タイプの判定
- ✅ ルートIDの正規化
- ✅ 島内航路料金の適用
- ✅ レインボージェット料金の適用
- ✅ ユニットテスト（useFareCalculation.test.ts）

## 改善・拡張項目

### 高優先度

- [ ] 繁忙期料金の適用（現在は別機能で判定、統合が必要）
- [ ] 割引の適用機能（往復割引、団体割引など）
- [ ] 障害者割引の適用
- [ ] 料金計算結果の詳細表示（内訳表示）

### 中優先度

- [ ] 料金計算のキャッシュ機能（同じ条件での再計算を回避）
- [ ] 料金計算のバリデーション強化（無効な入力の検証）
- [ ] 料金計算APIの実装（サーバーサイド計算）
- [ ] 料金計算履歴の保存

### 低優先度

- [ ] 料金計算のアニメーション効果
- [ ] 料金計算結果のエクスポート機能
- [ ] 料金計算結果の印刷機能
- [ ] 料金計算結果のSNS共有機能

## テスト項目

### 完了

- ✅ 基本料金計算のテスト
- ✅ 座席等級料金計算のテスト
- ✅ 車両料金計算のテスト
- ✅ 子供料金計算のテスト（10円単位切り上げ）

### 未実装・改善

- [ ] 繁忙期料金のテスト
- [ ] 割引適用のテスト
- [ ] エッジケースのテスト（境界値、無効な入力）
- [ ] パフォーマンステスト（大量計算）
- [ ] E2Eテストの実装

## バグ修正

- [ ] 料金マスターデータの読み込みエラー時の処理
- [ ] ルートが見つからない場合のエラーメッセージ改善
- [ ] 日付境界での料金計算の不整合

## ドキュメント

- ✅ 機能仕様書の作成
- [ ] 料金計算ロジックの詳細ドキュメント
- [ ] 料金マスターデータの構造ドキュメント




